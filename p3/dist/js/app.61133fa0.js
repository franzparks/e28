(function(e){function t(t){for(var n,a,o=t[0],u=t[1],c=t[2],l=0,d=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var u=r[o];0!==i[u]&&(n=!1)}n&&(s.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},i={app:0},s=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var p=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"20e5":function(e,t,r){},5460:function(e,t,r){e.exports=r.p+"img/quesadillas.59702210.jpg"},"549b":function(e,t,r){e.exports=r.p+"img/strawberry-muffins.be5b50bf.jpg"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("img",{attrs:{alt:"Recipe Book logo",id:"logo",src:r("6100")}}),n("nav",[n("ul",e._l(e.links,(function(t){return n("li",{key:t},[n("router-link",{attrs:{to:{name:t},exact:""}},[e._v(" "+e._s(t)+" "),"shoppingList"==t?n("span",[e._v("("+e._s(e.shoppingListCount)+")")]):e._e(),"favoritesList"==t?n("span",[e._v("("+e._s(e.favoritesListCount)+")")]):e._e()])],1)})),0)]),n("router-view")],1)},s=[],a=(r("7db0"),r("4160"),r("159b"),r("96cf"),r("1da1")),o=r("d4ec"),u=r("bee2"),c=r("59ca"),p=(r("e71f"),function(){function e(t){Object(o["a"])(this,e),c["initializeApp"]({apiKey:t.apiKey,authDomain:t.projectId+".firebaseapp.com",databaseURL:"https://"+t.projectId+".firebaseio.com",projectId:t.projectId}),this.api=c["firestore"]()}return Object(u["a"])(e,[{key:"find",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.collection(t).where(r,"==",n).get();case 3:return i=e.sent,e.abrupt("return",i.docs.shift().data());case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return","Error getting documents: "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"filter",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,n,i){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.collection(t).where(r,n,i).get();case 3:return s=e.sent,e.abrupt("return",s.docs);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return","Error getting documents: "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t,r,n,i){return e.apply(this,arguments)}return t}()},{key:"get",value:function(e,t){return this.find(e,"id",t)}},{key:"all",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={},e.next=3,this.api.collection(t).get();case 3:return n=e.sent,n.forEach((function(e){r[e.id]=e.data()})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"add",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.collection(t).add(r);case 3:return n=e.sent,e.abrupt("return",n.id);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return","Error adding document: "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(e,t){this.api.collection(e).doc(t).delete()}}]),e}()),l=(r("c975"),r("a434"),r("b0c0"),r("b64b"),function(){function e(){Object(o["a"])(this,e);var t=localStorage.getItem("shoppingList");this.items=t?JSON.parse(t):[]}return Object(u["a"])(e,[{key:"getItems",value:function(){return this.items}},{key:"count",value:function(){for(var e=0,t=0,r=Object.keys(this.items);t<r.length;t++){var n=r[t];e+=this.items[n].quantity}return e}},{key:"update",value:function(){localStorage.setItem("shoppingList",JSON.stringify(this.items))}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e=this.normalizeName(e);var r=this.getItem(e);r?r.quantity+=t:this.items.push({name:e,quantity:t}),this.update()}},{key:"remove",value:function(e){var t=this.getItem(e),r=this.items.indexOf(t);t&&(this.items.splice(r,1),this.update())}},{key:"getItem",value:function(e){return this.items.find((function(t){var r=t.name;return r===e}))||null}},{key:"normalizeName",value:function(e){return e}}]),e}()),d=function(){function e(){Object(o["a"])(this,e);var t=localStorage.getItem("favoritesList");this.items=t?JSON.parse(t):[]}return Object(u["a"])(e,[{key:"count",value:function(){return this.items.length}},{key:"update",value:function(){localStorage.setItem("favoritesList",JSON.stringify(this.items))}},{key:"add",value:function(e){var t=this.getItem(e);t||(this.items.push({slug:e}),this.update())}},{key:"remove",value:function(e){var t=this.getItem(e),r=this.items.indexOf(t);t&&(this.items.splice(r,1),this.update())}},{key:"getItem",value:function(e){return this.items.find((function(t){var r=t.slug;return r===e}))||null}},{key:"getItems",value:function(){return this.items}}]),e}(),f={firebase:{apiKey:"AIzaSyBiVFyAmIexbkQ60XlcxN0arHSpD6x_oIU",projectId:"e28-p2-76e95"}},m=new p({apiKey:f.firebase.apiKey,projectId:f.firebase.projectId}),v={name:"App",components:{},data:function(){return{links:["home","shoppingList","favoritesList","add a recipe"],favoritesList:null}},mounted:function(){var e=new l,t=new d;this.$store.commit("setShoppingListCount",e.count()),this.$store.commit("setFavoritesListCount",t.count()),this.$store.dispatch("setRecipes")},computed:{shoppingListCount:function(){return this.$store.state.shoppingListCount},favoritesListCount:function(){return this.$store.state.favoritesListCount}}},h=v,g=(r("5c0b"),r("2877")),b=Object(g["a"])(h,i,s,!1,null,null,null),_=b.exports,y=r("8c4f"),L=r("1dce"),j=r.n(L),k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),r("show-recipes")],1)},w=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("i",[e._v("A recipe book for all your favorite recipes")])])}],$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"recipes"}},[r("h2",[e._v("Recipes")]),e._l(e.recipes,(function(e){return r("show-recipe",{key:e.id,attrs:{recipe:e}})}))],2)},x=[],O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-link",{staticClass:"recipe",attrs:{to:{name:"recipe",params:{slug:e.recipe.slug}}}},[r("div",{staticClass:"recipe-name"},[e._v(e._s(e.recipe.name))]),r("img",{staticClass:"recipe-thumb",attrs:{src:e.imageSrc}}),r("div",{staticClass:"recipe-summary"},[e._v(e._s(e.recipe.summary))])])},C=[],S={props:["recipe"],data:function(){return{}},computed:{imageSrc:function(){try{return r("ca62")("./"+this.recipe.slug+".jpg")}catch(e){return r("82a1")}}}},I=S,R=Object(g["a"])(I,O,C,!1,null,"016291ac",null),E=R.exports,N={components:{"show-recipe":E},data:function(){return{}},computed:{recipes:function(){return this.$store.state.recipes}}},F=N,q=Object(g["a"])(F,$,x,!1,null,"5362d1c3",null),A=q.exports,P={components:{"show-recipes":A}},T=P,D=Object(g["a"])(T,k,w,!1,null,"a9c6e72e",null),J=D.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.recipe?r("div",{attrs:{id:"recipe-page"}},[r("h2",[e._v(e._s(e.recipe.name))]),r("img",{staticClass:"recipe-thumb",attrs:{alt:"Recipe image of  "+e.recipe.name,src:e.imageSrc}}),r("p",{staticClass:"description"},[e._v(e._s(e.recipe.summary))]),r("show-ingredients",{attrs:{ingredients:e.recipe.ingredients}}),r("button",{on:{click:function(t){return e.addToFavoritesList(e.slug)}}},[e._v("Add to favorites list")]),r("transition",{attrs:{name:"fade"}},[e.addAlert?r("div",{staticClass:"alert"},[e._v("Your favorites list has been updated!")]):e._e()]),r("router-link",{attrs:{to:{name:"home"}}},[e._v("‚Üê Return to all recipes")])],1):e._e()},K=[],M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"ingredients-page"}},[e.ingredients&&0!=e.ingredients.length?e._e():r("div",[e._v("No ingredients")]),this.ingredients?r("ul",{staticClass:"cleanList"},[r("h3",[e._v("Ingredients")]),r("transition",{attrs:{name:"fade"}},[e.addIngredient?r("div",{staticClass:"alert"},[e._v("Your recipe ingredient was added!")]):e._e()]),e._l(e.ingredients,(function(t){return r("li",{key:t},[r("p",[r("span",[e._v(e._s(t))]),r("span",[r("button",{on:{click:function(r){return e.addToShoppingList(t)}}},[e._v("Add to cart")])])])])}))],2):e._e()])},U=[],Y={props:["ingredients"],data:function(){return{addIngredient:!1}},methods:{addToShoppingList:function(e){var t=this,r=new l;r.add(e),this.$store.commit("updateShoppingListCount",1),this.addIngredient=!0,setTimeout((function(){return t.addIngredient=!1}),1e3)}}},z=Y,H=Object(g["a"])(z,M,U,!1,null,null,null),Q=H.exports,V={name:"",props:["slug"],data:function(){return{addAlert:!1}},components:{"show-ingredients":Q},computed:{recipe:function(){return this.$store.getters.getRecipeBySlug(this.slug)},imageSrc:function(){try{return r("ca62")("./"+this.recipe.slug+".jpg")}catch(e){return r("82a1")}}},methods:{addToFavoritesList:function(e){var t=this,r=new d;r.add(e),this.$store.commit("updateFavoritesListCount",r.count()),this.addAlert=!0,setTimeout((function(){return t.addAlert=!1}),1e3)}}},X=V,G=Object(g["a"])(X,B,K,!1,null,"82d89ddc",null),W=G.exports,Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("Add a Recipe")]),r("label",{attrs:{for:"name"}},[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.recipe.name.$model,expression:"$v.recipe.name.$model"}],class:{"form-input-error":e.$v.recipe.name.$error},attrs:{type:"text","data-test":"recipe-name-input",id:"name"},domProps:{value:e.$v.recipe.name.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.recipe.name,"$model",t.target.value)}}}),e.$v.recipe.name.$error?r("div",[e.$v.recipe.name.required?e._e():r("div",{staticClass:"form-feedback-error"},[e._v("Name is required.")])]):e._e(),r("label",{attrs:{for:"slug"}},[e._v("URL Identifier:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.slug,expression:"recipe.slug"}],attrs:{type:"text",id:"slug"},domProps:{value:e.recipe.slug},on:{input:function(t){t.target.composing||e.$set(e.recipe,"slug",t.target.value)}}}),r("label",{attrs:{for:"description"}},[e._v("Description")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.recipe.description,expression:"recipe.description"}],attrs:{id:"description"},domProps:{value:e.recipe.description},on:{input:function(t){t.target.composing||e.$set(e.recipe,"description",t.target.value)}}}),r("input",{attrs:{type:"submit",value:"Add"},on:{click:function(t){return t.preventDefault(),e.addRecipe(t)}}}),e.$v.$anyError?r("div",{staticClass:"form-feedback-error"},[e._v("Please correct the above errors")]):e._e(),r("transition",{attrs:{name:"fade"}},[e._v(" data-test='recipe-added-confirmation' "),e.added?r("div",{staticClass:"alert"},[e._v("Your recipe was added!")]):e._e()])],1)},ee=[],te=(r("caad"),r("2532"),r("b5ae")),re={data:function(){return{added:!1,recipe:{name:"",slug:"",summary:"",ingredients:[]}}},validations:{recipe:{name:{required:te["required"]},slug:{required:te["required"],minLength:Object(te["minLength"])(4),doesNotExist:function(e){return!this.$store.getters.getRecipeBySlug(e)}}}},methods:{addRecipe:function(){var e=this;this.$v.$touch(),0==this.$v.$anyError&&m.add("recipes",this.recipe).then((function(t){t.includes("Error")?alert(t):(e.$v.$reset(),e.added=!0,setTimeout((function(){return e.added=!1}),3e3),e.recipe={name:"",slug:"",summary:"",ingredients:[]})}))}}},ne=re,ie=(r("6f25"),Object(g["a"])(ne,Z,ee,!1,null,"748817fe",null)),se=ie.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"shopping-page"}},[r("h1",[e._v("Your Ingredients Shopping List")]),0==e.items.length?r("div",[e._v("No items")]):e._e(),e.recipes?r("ul",{staticClass:"cleanList"},e._l(e.items,(function(t){return r("li",{key:t.name},[r("p",[r("span",[e._v("("+e._s(t.quantity)+") x "+e._s(t.name))]),r("span",[r("button",{on:{click:function(r){return e.removeFromShoppingList(t.name,t.quantity)}}},[e._v("Remove")])])])])})),0):e._e()])},oe=[],ue={data:function(){return{items:[],shoppingList:null}},mounted:function(){this.shoppingList=new l,this.items=this.shoppingList.getItems()},methods:{removeFromShoppingList:function(e,t){this.shoppingList.remove(e),this.$store.commit("updateShoppingListCount",-t)}},computed:{recipes:function(){return this.$store.state.recipes}}},ce=ue,pe=Object(g["a"])(ce,ae,oe,!1,null,null,null),le=pe.exports,de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"favorites-page"}},[r("h1",[e._v("Your Favorite Recipes")]),0==e.items.length?r("div",[e._v("No items")]):e._e(),e.recipes?r("ul",{staticClass:"cleanList"},e._l(e.items,(function(t){return r("li",{key:t.slug},[e._v(" "+e._s(e.getRecipeDetails(t.slug).name)+" "),r("button",{on:{click:function(r){return e.removeFromFavoritesList(t.slug)}}},[e._v("Remove")])])})),0):e._e()])},fe=[],me={data:function(){return{items:[],favoritesList:null}},mounted:function(){this.favoritesList=new d,this.items=this.favoritesList.getItems()},methods:{getRecipeDetails:function(e){for(var t=0,r=Object.keys(this.recipes);t<r.length;t++){var n=r[t];if(this.recipes[n].slug==e)return this.recipes[n]}},removeFromFavoritesList:function(e){this.favoritesList.remove(e),this.$store.commit("updateFavoritesListCount",this.favoritesList.count())}},computed:{recipes:function(){return this.$store.state.recipes}}},ve=me,he=Object(g["a"])(ve,de,fe,!1,null,null,null),ge=he.exports,be=r("2f62");n["a"].use(be["a"]);var _e=new be["a"].Store({state:{shoppingListCount:0,favoritesListCount:0,recipes:[]},mutations:{setShoppingListCount:function(e,t){e.shoppingListCount=t},setFavoritesListCount:function(e,t){e.favoritesListCount=t},updateShoppingListCount:function(e,t){e.shoppingListCount+=t},updateFavoritesListCount:function(e,t){e.favoritesListCount=t},updateRecipes:function(e,t){e.recipes=t}},actions:{setRecipes:function(e){m.all("recipes").then((function(t){e.commit("updateRecipes",t)}))}},getters:{getRecipeBySlug:function(e){return function(t){for(var r=0,n=Object.keys(e.recipes);r<n.length;r++){var i=n[r];if(e.recipes[i].slug==t)return e.recipes[i]}}}}});n["a"].use(y["a"]),n["a"].use(j.a);var ye=[{path:"/",component:J,name:"home"},{path:"/recipe/:slug",component:W,name:"recipe",props:!0},{path:"/recipes/create",component:se,name:"add a recipe"},{path:"/shoppingList",component:le,name:"shoppingList"},{path:"/favoritesList",component:ge,name:"favoritesList"}],Le=new y["a"]({routes:ye,mode:"history"});new n["a"]({store:_e,router:Le,render:function(e){return e(_)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),i=r.n(n);i.a},"5fa0":function(e,t,r){e.exports=r.p+"img/egg-salad.59702210.jpg"},6100:function(e,t,r){e.exports=r.p+"img/recipe-book-logo.6c8dc65d.jpg"},"6f25":function(e,t,r){"use strict";var n=r("20e5"),i=r.n(n);i.a},7378:function(e,t,r){e.exports=r.p+"img/quiche.2ad787e9.jpg"},8007:function(e,t,r){e.exports=r.p+"img/tartar-sauce.05f1f45b.jpg"},"82a1":function(e,t,r){e.exports=r.p+"img/image-not-available.549b729b.jpg"},"9c0c":function(e,t,r){},c88e:function(e,t,r){e.exports=r.p+"img/turkey-meatloaf.ee7d7f22.jpg"},ca62:function(e,t,r){var n={"./egg-salad.jpg":"5fa0","./image-not-available.jpg":"82a1","./quesadillas.jpg":"5460","./quiche.jpg":"7378","./strawberry-muffins.jpg":"549b","./tartar-sauce.jpg":"8007","./turkey-meatloaf.jpg":"c88e"};function i(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id="ca62"}});
//# sourceMappingURL=app.61133fa0.js.map